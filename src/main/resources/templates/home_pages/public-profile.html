<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Public Profile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Custom styles for the public profile */
    .profile-card {
      border: none;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      overflow: hidden;
    }

    .profile-header {
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      color: white;
      padding: 2rem;
      text-align: center;
      position: relative; /* For positioning the Edit link */
    }

    .profile-avatar {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border: 4px solid white;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .profile-details {
      padding: 2rem;
      background: white;
    }

    .profile-details h5 {
      color: #333;
      font-weight: bold;
    }

    .profile-details p {
      color: #666;
      font-size: 1.1rem;
    }

    .profile-description {
      background: #f8f9fa;
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 1.5rem;
    }

    /* Edit link styling */
    .edit-link {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      text-decoration: none;
      transition: background 0.3s ease;
    }

    .edit-link:hover {
      background: rgba(255, 255, 255, 0.3);
      text-decoration: none;
    }
  </style>
</head>

<body class="bg-light">
<!-- Navigation (replace with your navigation component) -->
<div th:replace="/home_pages/home :: navigation"></div>

<!-- Public Profile Section -->
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <!-- Profile Card -->
      <div class="card profile-card">
        <!-- Profile Header -->
        <div class="profile-header">
          <!-- Edit Link (Top-Right Corner) -->
          <a th:if="${session.user == user}" class="edit-link" th:href="@{/{username}/profile/edit (username=${user.getUsername()})}">Edit</a>

          <!-- Profile Picture and Username -->
          <img th:src="${user.getAvatarUrl()}" alt="Profile Picture" class="profile-avatar rounded-circle">
          <h3 class="mt-3" th:text="${user.getUsername()}">Username</h3>
        </div>

        <!-- Profile Details -->
        <div class="profile-details">
          <div class="row">
            <div class="col-md-12">
              <!-- Username -->
              <h5>Username</h5>
              <p th:text="${user.getUsername()}">Username</p>

              <!-- Description -->
              <div class="profile-description">
                <h5>About Me</h5>
                <p th:text="${user.getDescription()} ?: 'No description provided.'">
                  This is a sample description about the user. It can be a few lines long.
                </p>
              </div>
              <div class="profile-description">
                <h5>Projects worked in:</h5>
              </div>
              <a th:href="@{/{username}/project-requests(username=${username})}"
                 class="btn btn-info btn-md me-2 mt-4">
                View project requests
              </a>
              <a th:href="@{/{username}/reports(username=${username})}"
                 class="btn btn-info btn-md mt-4">
                View submitted reports
              </a>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>